<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">


    <meta name="author" content="chy">



    <meta name="description" content="Stay Hungry, Stay Foolish! :)">



<title>Install arch Linux in VMware | Chy&#39;s blog</title>



    <link rel="icon" href="/image/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.1.1"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Chy&#39;s blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Chy&#39;s blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Install arch Linux in VMware</h1>
            
                <div class="post-meta">
                    
                            Author: <a itemprop="author" rel="author" href="/">chy</a>
                    &nbsp;&nbsp;

                    
                        <span class="post-time">
                            Date: <a href="#">September 10, 2020&nbsp;&nbsp;18:52:38</a>
                        </span>&nbsp;&nbsp;
                    

                    
                        <span class="post-category">
                            Category:
                                
                                <a href="/categories/Linux/">Linux</a>
                            
                        </span>
                    &nbsp;&nbsp;

                    <!-- Pageviews Added on 2020/9/3 -->
                        <span id="/2020/09/10/Install-arch-Linux-in-VMware/" class="leancloud-visitors" data-flag-title="Install arch Linux in VMware">
                            <em class="post-meta-item-text">Pageviews:</em>
                            <i class="leancloud-visitors-count">loading</i>
                        </span>

                </div>
            
        </header>

        <div class="post-content">
            <h2 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h2><p>æš‘å‡é‡Œå®åœ¨æ— èŠï¼Œæƒ³åˆ°æœ‰â€œå®‰è£…åŠé€€â€ä¸€è¯´çš„Arch,åº”è¯¥èƒ½æ‰“å‘ä¸å°‘æ— èŠæ—¶é—´å§ï¼›<br>ä¸€ç›´è§‰å¾—å‘½ä»¤è¡Œæ“ä½œå¾ˆç¥åœ£ï¼ˆç‚«ã€é…·ï¼Œ<del>~</del>ï¼‰ï¼Œå¤§å­¦åˆšå¼€å§‹å°±è£…äº†ä¸ªæ¥ç©ï¼Œæ˜¯â€œå¯¹åˆå­¦è€…å‹å¥½â€çš„Ubuntuï¼Œä¹Ÿå°±æ˜¯æŒ‰ç€æŸNã€æŸä¹¦æ¥çš„ï¼Œè£…å¥½åå°´å°¬äº†ğŸ˜…ï¼Œä¸çŸ¥é“è¯¥å¹²å˜›ï¼Œé«˜æ·±çš„å’±ä¸æ‡‚ï¼Œç®€å•çš„ä¸€äº›æ“ä½œæŒ‡ä»¤æ•²å¤šäº†ä¹Ÿè…»ï¼Œäºæ˜¯æç½®äº†ã€‚ç›´åˆ°åœ¨è£…archè¿™æ®µæ—¶é—´é‡Œï¼Œé€šè¿‡å…¶ä¼˜ç§€çš„<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/">å®˜æ–¹æ–‡æ¡£</a> ğŸ‘ï¼Œè¾…ä»¥åšæ–‡æŒ‡å¯¼ï¼Œæ‰äºç¬¬å…«æ¬¡â€œæ¸¡åŠ«â€æˆåŠŸğŸˆï¼Œä¹Ÿä½“ä¼šåˆ°äº†å…¶ä¸­ä¹‹å¦™ï¼›<br>æˆ‘æ˜¯ä¸€åç¨³å¥çš„äººå„¿ğŸ˜ï¼ŒVMwareèµ°èµ·ï¼ï¼!</p>
<h2 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h2><p>Archçš„å®‰è£…å…¶å®<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Installation guide</a> å·²ç»ååˆ†æ¸…æ™°ã€æ˜äº†æŒ‰ç€æŒ‡å—å‡†æ²¡é”™ï¼Œç„¶åå°±æ˜¯å…¶ä¸­é‡åˆ°çš„å°å‘ä¹‹ç±»çš„ï¼ŒGoogleä¸€ç•ªï¼Œå·®ä¸å¤šå°±ğŸ†—äº†ã€‚</p>
<h3 id="Before-you-begin"><a href="#Before-you-begin" class="headerlink" title="Before you begin"></a>Before you begin</h3><h4 id="ç‰ˆæœ¬è¯´æ˜"><a href="#ç‰ˆæœ¬è¯´æ˜" class="headerlink" title="ç‰ˆæœ¬è¯´æ˜"></a>ç‰ˆæœ¬è¯´æ˜</h4><p><a target="_blank" rel="noopener" href="https://my.vmware.com/cn/web/vmware/downloads/info/slug/desktop_end_user_computing/vmware_workstation_pro/15_0#product_downloads">VMware workstation</a> ï¼š <code>VMwareÂ® Workstation 15 Pro-15.1.0</code><br><a target="_blank" rel="noopener" href="https://www.archlinux.org/download/">Arch Linux ISO</a> ï¼š <code>archlinux-2020.08.01-x86_64</code></p>
<h4 id="æ–°å»ºè™šæ‹Ÿæœº"><a href="#æ–°å»ºè™šæ‹Ÿæœº" class="headerlink" title="æ–°å»ºè™šæ‹Ÿæœº"></a>æ–°å»ºè™šæ‹Ÿæœº</h4><blockquote>
<p>å®¢æˆ·æœºæ“ä½œç³»ç»Ÿ: <code>linux</code><br>ç‰ˆæœ¬ï¼š <code>å…¶ä»– Linux 4.x æˆ–æ›´é«˜ç‰ˆæœ¬å†…æ ¸ 64ä½</code><br>ç½‘ç»œç±»å‹ï¼š <code>NAT</code><br>ç£ç›˜å®¹é‡ï¼š <code>20GB</code><br>å¤„ç†å™¨æ•°åŠå†…æ ¸æ•°ã€å†…å­˜ç­‰é€‰é¡¹: <code>æ¨èorè‡ªå®š</code>  </p>
</blockquote>
<h4 id="æ–¹æ¡ˆé€‰æ‹©"><a href="#æ–¹æ¡ˆé€‰æ‹©" class="headerlink" title="æ–¹æ¡ˆé€‰æ‹©"></a>æ–¹æ¡ˆé€‰æ‹©</h4><p>åœ¨æ­£å¼å®‰è£…å‰è¦å…ˆå¯¹Linuxä¸‹<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Partitioning_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#Master_Boot_Record">åˆ†åŒºè¡¨ã€åˆ†åŒºæ–¹æ¡ˆä»¥åŠbootloaderç­‰ç‚¹</a> (è¯¥wikiå¾ˆè¯¦å°½ï¼Œä½†æ¦‚æ‹¬æ€§å¼ºï¼Œæ·±å…¥ç†è§£è¿˜éœ€å¦å¤–æŸ¥é˜…èµ„æ–™)æœ‰ä¸€å®šçš„äº†è§£ï¼Œç„¶åç¡®å®šè‡ªå·±è¦å®‰è£…çš„Archçš„æ–¹æ¡ˆï¼›<br>ä»¥ä¸‹æœ¬äººæä¾›ä¸¤ç§æ–¹æ¡ˆï¼Œå¯èƒ½å¹¶ä¸æ˜¯æœ€ä¼˜è§£ï¼ˆå› ä¸ºæˆ‘å¯¹åˆ†åŒºç›¸å…³å†…å®¹ç†è§£ä¹Ÿå¹¶ä¸æ·±ï¼‰ï¼Œä½†è¡Œå¾—é€šï¼Œå¯¹å…¥é—¨èœé¸Ÿæ¥è¯´ï¼Œå·®ä¸å¤šäº†å§ã€‚ğŸ˜‚  </p>
<p>æ–¹æ¡ˆä¸€ï¼š</p>
<blockquote>
<p>BIOS + MBR + <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/GRUB">GRUB</a></p>
</blockquote>
<p>æ–¹æ¡ˆäºŒï¼š</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface">EFI</a> + GPT + <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/REFInd">rEFInd</a></p>
</blockquote>
<h3 id="Begin"><a href="#Begin" class="headerlink" title="Begin"></a>Begin</h3><p>å¼€å¯æ­¤è™šæ‹Ÿæœº<br>ä½†å¦‚æœé€‰æ‹©<strong>æ–¹æ¡ˆäºŒ</strong>ï¼Œåœ¨å¼€å¯å‰ğŸ‘‡</p>
<blockquote>
<p>è¿›å…¥è¯¥è™šæ‹Ÿæœºæ–‡ä»¶ç›®å½•ï¼Œæ‰¾åˆ° <code>xx.vmx</code> ,ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼Œåœ¨æ–‡ä»¶æœ€åº•éƒ¨æ·»åŠ è¡Œï¼š</p>
<blockquote>
<p><code>firmware = &quot;efi&quot;</code></p>
</blockquote>
</blockquote>
<p>ç„¶åå¯ä»¥çœ‹åˆ°å¯åŠ¨ç•Œé¢ï¼š<br>æ–¹æ¡ˆä¸€ï¼š  </p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/01.png" class="" title="æ–¹æ¡ˆä¸€å¯åŠ¨ç•Œé¢">  
<p>æ–¹æ¡ˆäºŒï¼š  </p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/02.png" class="" title="æ–¹æ¡ˆäºŒå¯åŠ¨ç•Œé¢">  

<p>ç‰‡åˆ»å°±è¿›å…¥å‘½ä»¤è¡Œç•Œé¢äº†</p>
<h4 id="æ£€æŸ¥ç½‘ç»œè¿æ¥"><a href="#æ£€æŸ¥ç½‘ç»œè¿æ¥" class="headerlink" title="æ£€æŸ¥ç½‘ç»œè¿æ¥"></a>æ£€æŸ¥ç½‘ç»œè¿æ¥</h4><p>ä½¿ç”¨ <code>ping</code> å‘½ä»¤ï¼š  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egï¼š ping -c 4 www.baidu.com</span><br></pre></td></tr></table></figure>

<h4 id="æ›´æ–°ç³»ç»Ÿæ—¶é—´"><a href="#æ›´æ–°ç³»ç»Ÿæ—¶é—´" class="headerlink" title="æ›´æ–°ç³»ç»Ÿæ—¶é—´"></a>æ›´æ–°ç³»ç»Ÿæ—¶é—´</h4><p>ä½¿ç”¨ <code>timedatectl</code> ç¡®ä¿ç³»ç»Ÿæ—¶é—´æ˜¯å‡†ç¡®çš„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨ <code>timedatectl status</code> æ£€æŸ¥æœåŠ¡çŠ¶æ€</p>
<h4 id="ç¡¬ç›˜åˆ†åŒºğŸ‘ˆ"><a href="#ç¡¬ç›˜åˆ†åŒºğŸ‘ˆ" class="headerlink" title="ç¡¬ç›˜åˆ†åŒºğŸ‘ˆ"></a>ç¡¬ç›˜åˆ†åŒºğŸ‘ˆ</h4><h5 id="æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯"><a href="#æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯"></a>æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯</h5><p><code>fdisk -l</code><br>æˆ‘ä¹‹å‰ä¸ºè¯¥è™šæ‹Ÿæœºåˆ†é…äº†20GBï¼Œå¦‚å›¾ï¼ˆè¯·ç‰¢è®°ä½ çš„ç¡¬ç›˜åç§°ï¼Œæ­¤å¤„æˆ‘çš„ä¸º <code>/dev/sda</code> ï¼‰ï¼š</p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/03.png" class="" title="ç¡¬ç›˜ä¿¡æ¯">  
<p>ç»“æœä¸­ä»¥ <code>rom</code>ï¼Œ<code>loop</code> æˆ–è€… <code>airoot</code> ç»“æŸçš„å¯ä»¥è¢«å¿½ç•¥</p>
<h5 id="åˆ†åŒº"><a href="#åˆ†åŒº" class="headerlink" title="åˆ†åŒº"></a><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%BB%BA%E7%AB%8B%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA">åˆ†åŒº</a></h5><p>åˆ†åŒºå¸¸ç”¨æ–¹æ¡ˆ</p>
<blockquote>
<ul>
<li>å¼•å¯¼åˆ†åŒº /bootï¼š260â€“512 MiB</li>
<li>äº¤æ¢åˆ†åŒº swapï¼šè™šæ‹Ÿå†…å­˜ï¼Œå¤§äº 512 MiB</li>
<li>æ ¹ç›®å½• /ï¼šå®‰è£…ç³»ç»Ÿå’Œè½¯ä»¶ï¼Œå¤§å°è‡ªå®š</li>
<li>ç”¨æˆ·home /homeï¼šç”¨æˆ·æ–‡æ¡£ç­‰æ‰€åœ¨åœ°ï¼Œå¤§å°è‡ªå®š</li>
</ul>
</blockquote>
<p>æˆ‘æ¯”è¾ƒä¸­æ„ä½¿ç”¨ <code>cdfisk</code>è¿›è¡Œåˆ†åŒºï¼Œé”®å…¥å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cfdisk /dev/sda</span><br></pre></td></tr></table></figure>

<p>cfdiskä½¿ç”¨ï¼š</p>
<blockquote>
<p>â†‘ â†“ åˆ‡æ¢åˆ†åŒºï¼Œâ† â†’ åˆ‡æ¢èœå•é€‰é¡¹ï¼›<br>å…ˆä» <code>free space</code> <code>new</code> å‡ºåˆ†åŒºï¼Œ<code>new</code> æ—¶ç¡®å®šåˆ†åŒºå¤§å°ï¼Œä»¥åŠåˆ†åŒºç±»å‹ï¼Œç„¶åå¯å¯¹è¯¥åˆ†åŒºè¿›è¡Œ <code>type</code> ,<code>bootable</code> ç­‰å®šä¹‰ï¼›<br>åˆ†åŒºå®Œæˆå <code>Write</code> , <code>yes</code>ç¡®å®š, <code>quit</code>å³å¯</p>
</blockquote>
<p>ç„¶åä¼šå‡ºç°ä¸€é“é€‰æ‹©é¢˜ <code>select label type</code> :<br>æ¯«æ— ç–‘é—®ï¼Œä½ æ˜¯æ–¹æ¡ˆä¸€å°±é€‰æ‹© <code>dos</code> ï¼Œæ–¹æ¡ˆäºŒå°±é€‰æ‹© <code>gpt</code>  </p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/04.png" class="" title="select label type">  

<p>æ–¹æ¡ˆä¸€  åˆ†åŒºæ–¹æ¡ˆï¼š  </p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/05.png" class="" title="æ–¹æ¡ˆä¸€ åˆ†åŒºæ–¹æ¡ˆ">  

<p>æ–¹æ¡ˆäºŒ  åˆ†åŒºæ–¹æ¡ˆï¼š  </p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/06.png" class="" title="æ–¹æ¡ˆäºŒ åˆ†åŒºæ–¹æ¡ˆ">  

<h4 id="æ ¼å¼åŒ–åˆ†åŒº"><a href="#æ ¼å¼åŒ–åˆ†åŒº" class="headerlink" title="æ ¼å¼åŒ–åˆ†åŒº"></a>æ ¼å¼åŒ–åˆ†åŒº</h4><p>æ–¹æ¡ˆä¸€ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkfs.ext4 /dev/sda1</span><br><span class="line">mkswap /dev/sda2</span><br><span class="line">mkfs.ext4 /dev/sda3</span><br><span class="line">swapon /dev/sda2</span><br></pre></td></tr></table></figure>

<p>æ–¹æ¡ˆäºŒï¼š<br>EFIåˆ†åŒºéœ€è¦æ ¼å¼åŒ–æˆFAT32æ ¼å¼ï¼ˆå…·ä½“è§<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/EFI_system_partition">Wiki</a> ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkfs.vfat -F32 /dev/sda1</span><br><span class="line">mkswap /dev/sda2</span><br><span class="line">mkfs.ext4 /dev/sda3</span><br><span class="line">mkfs.ext4 /dev/sda4</span><br><span class="line">swapon /dev/sda2</span><br></pre></td></tr></table></figure>

<h4 id="æŒ‚è½½åˆ†åŒº"><a href="#æŒ‚è½½åˆ†åŒº" class="headerlink" title="æŒ‚è½½åˆ†åŒº"></a>æŒ‚è½½åˆ†åŒº</h4><p>å…ˆæŒ‚è½½æ ¹åˆ†åŒº</p>
<p>æ–¹æ¡ˆä¸€ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sda3 /mnt</span><br><span class="line">mkdir /mnt/boot</span><br><span class="line">mount /dev/sda1 /mnt/boot</span><br></pre></td></tr></table></figure>

<p>æ–¹æ¡ˆäºŒï¼š  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sda3 /mnt</span><br><span class="line">mkdir /mnt/boot</span><br><span class="line">mkdir /mnt/home</span><br><span class="line">mount /dev/sda1 /mnt/boot</span><br><span class="line">mount /dev/sda4 /mnt/home</span><br></pre></td></tr></table></figure>

<p><code>lsblk</code>æŸ¥çœ‹æ˜¯å¦æŒ‚è½½æˆåŠŸ  </p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/07.png" class="" title="lsblk">  

<h4 id="å®‰è£…å¿…é¡»çš„è½¯ä»¶åŒ…"><a href="#å®‰è£…å¿…é¡»çš„è½¯ä»¶åŒ…" class="headerlink" title="å®‰è£…å¿…é¡»çš„è½¯ä»¶åŒ…"></a><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%AE%89%E8%A3%85%E5%BF%85%E9%A1%BB%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%8C%85">å®‰è£…å¿…é¡»çš„è½¯ä»¶åŒ…</a></h4><p>é•œåƒæºè¿™ä¸ªæˆ‘æ²¡æ¢ä¹Ÿæ˜¯okçš„ï¼Œæ‰€ä»¥ï¼Œè¿‡ï¼  </p>
<p>é”®å…¥å‘½ä»¤ï¼š  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt base linux linux-firmware vim</span><br></pre></td></tr></table></figure>

<p><code>base-devel</code> è¿™ä¸ªçœ‹ä¸ªäººäº† <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php?title=Installation_Guide&diff=253744&oldid=250715">ğŸ‘‰Wiki</a></p>
<h4 id="é…ç½®ç³»ç»Ÿ"><a href="#é…ç½®ç³»ç»Ÿ" class="headerlink" title="é…ç½®ç³»ç»Ÿ"></a>é…ç½®ç³»ç»Ÿ</h4><h5 id="Fstab"><a href="#Fstab" class="headerlink" title="Fstab"></a>Fstab</h5><p>ç”Ÿæˆ fstab æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥ä¸€ä¸‹ç”Ÿæˆçš„ <code>/mnt/etc/fstab</code> æ–‡ä»¶æ˜¯å¦æ­£ç¡®ï¼ˆæ­£ç¡®çš„è¯¥æ˜¯ä½ çš„åˆ†åŒºæƒ…å†µè¡¨ï¼‰</p>
<h5 id="Chroot"><a href="#Chroot" class="headerlink" title="Chroot"></a>Chroot</h5><p>Change root åˆ°æ–°å®‰è£…çš„ç³»ç»Ÿï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure>

<h5 id="æ—¶åŒº"><a href="#æ—¶åŒº" class="headerlink" title="æ—¶åŒº"></a>æ—¶åŒº</h5><p>è®¾ç½®æ—¶åŒºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œ <code>hwclock</code> ä»¥ç”Ÿæˆ <code>/etc/adjtime</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure>

<h5 id="æœ¬åœ°åŒ–"><a href="#æœ¬åœ°åŒ–" class="headerlink" title="æœ¬åœ°åŒ–"></a>æœ¬åœ°åŒ–</h5><p>æœ¬åœ°åŒ–çš„ç¨‹åºä¸åº“è‹¥è¦æœ¬åœ°åŒ–æ–‡æœ¬ï¼Œéƒ½ä¾èµ– Localeï¼Œåè€…æ˜ç¡®è§„å®šåœ°åŸŸã€è´§å¸ã€æ—¶åŒºæ—¥æœŸçš„æ ¼å¼ã€å­—ç¬¦æ’åˆ—æ–¹å¼å’Œå…¶ä»–æœ¬åœ°åŒ–æ ‡å‡†ã€‚<br>éœ€åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶è®¾ç½®ï¼šlocale.gen ä¸ locale.confã€‚  </p>
<p>ç¼–è¾‘/etc/locale.gen ç„¶åç§»é™¤éœ€è¦çš„ åœ°åŒº å‰çš„æ³¨é‡Šç¬¦å· <code>#</code>ã€‚  </p>
<p>æ¥ç€æ‰§è¡Œ locale-gen ä»¥ç”Ÿæˆ locale ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿˜éœ€è¦è®¾ç½®LANGç¯å¢ƒå˜é‡ï¼š  </p>
<blockquote>
<p>æ–°å»º<code>/etc/locale.conf</code>å¹¶å†™å…¥<code>LANG=en_US.UTF-8</code></p>
</blockquote>
<h5 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h5><p>è®¾ç½®ä¸»æœºåï¼š</p>
<blockquote>
<p>åˆ›å»º<code>/etc/hostname</code>å¹¶å†™å…¥ä¸»æœºå</p>
</blockquote>
<p>æ·»åŠ å¯¹åº”çš„ä¿¡æ¯åˆ° hostsï¼ˆ <code>/etc/hosts</code> ï¼‰:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 localhost</span><br><span class="line">::1       localhost</span><br><span class="line">127.0.1.1 ä¸»æœºå.localdomain ä¸»æœºå</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> dhcpcd.service</span><br><span class="line"><span class="comment"># æˆ‘è¿™é‡Œæç¤ºä¸å­˜åœ¨ï¼Œäºæ˜¯ï¼š</span></span><br><span class="line">pacman -S dhcpcd</span><br></pre></td></tr></table></figure>

<h5 id="è®¾ç½®rootå¯†ç "><a href="#è®¾ç½®rootå¯†ç " class="headerlink" title="è®¾ç½®rootå¯†ç "></a>è®¾ç½®<code>root</code>å¯†ç </h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure>

<h5 id="Boot-loaderğŸ‘ˆ"><a href="#Boot-loaderğŸ‘ˆ" class="headerlink" title="Boot loaderğŸ‘ˆ"></a>Boot loaderğŸ‘ˆ</h5><blockquote>
<p>éœ€è¦å®‰è£… <code>Linux</code> å¼•å¯¼åŠ è½½ç¨‹åº,æ‰èƒ½åœ¨å®‰è£…åå¯åŠ¨ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨çš„çš„å¼•å¯¼ç¨‹åºå·²åœ¨ <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Boot_loaders_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">å¯åŠ¨åŠ è½½å™¨</a> ä¸­åˆ—å‡ºï¼Œè¯·é€‰æ‹©ä¸€ä¸ªå®‰è£…å¹¶é…ç½®å®ƒï¼Œ<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/GRUB">GRUB</a> æ˜¯æœ€å¸¸è§çš„é€‰æ‹©ã€‚</p>
</blockquote>
<p>æ–¹æ¡ˆä¸€ï¼š<br>å®‰è£… <code>grub</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub</span><br><span class="line">grub-install /dev/sda</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<p>æ–¹æ¡ˆäºŒï¼š<br>å®‰è£… <code>rEFInd</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S refind-efi</span><br><span class="line">refind-install</span><br></pre></td></tr></table></figure>

<p>å¯¹ <code>/boot/refind_linux.conf</code> è¿›è¡Œç¼–è¾‘ï¼šåŸï¼š  </p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/08.png" class="" title="before">  
<p>ä¿®æ”¹åï¼š  </p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/09.png" class="" title="now">  

<h4 id="åˆ›å»ºæ–°ç”¨æˆ·"><a href="#åˆ›å»ºæ–°ç”¨æˆ·" class="headerlink" title="åˆ›å»ºæ–°ç”¨æˆ·"></a><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Users_and_groups">åˆ›å»ºæ–°ç”¨æˆ·</a></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">useradd -m -G additional_groups -s login_shell username</span><br><span class="line"><span class="comment"># eg:</span></span><br><span class="line">useradd -m -G wheel -s /bin/bash rick</span><br><span class="line"><span class="comment"># è®¾ç½®å¯†ç ï¼š</span></span><br><span class="line">passwd username</span><br></pre></td></tr></table></figure>

<p>ä¸ºä½¿åœ¨ <code>wheel</code> ç»„ä¸­çš„æ™®é€šç”¨æˆ·èƒ½å¤Ÿè·å¾—ä¸´æ—¶çš„rootæƒé™ï¼Œéœ€è¦ä¿®æ”¹ wheel çš„æƒé™è®¾ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">visudo</span><br><span class="line"><span class="comment"># å»æ‰è¡Œ `#%wheel ALL=(ALL) ALL` å‰çš„ `#`</span></span><br></pre></td></tr></table></figure>

<h3 id="æ”¶å°¾"><a href="#æ”¶å°¾" class="headerlink" title="æ”¶å°¾"></a>æ”¶å°¾</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€€å‡º`arch-chroot`:</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># å¸è½½æ ¹ç›®å½•</span></span><br><span class="line">umount -R /mnt</span><br><span class="line"><span class="comment"># ç„¶åï¼Œé‡å¯ï¼š</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p>å¹¸è¿å„¿åº”è¯¥çœ‹åˆ°è¿™ä¸ªï¼šğŸ˜</p>
<img src="/2020/09/10/Install-arch-Linux-in-VMware/10.png" class="" title="grubå¼•å¯¼ç•Œé¢">  
<img src="/2020/09/10/Install-arch-Linux-in-VMware/11.png" class="" title="refindå¼•å¯¼ç•Œé¢">  

<h3 id="install-Gnome"><a href="#install-Gnome" class="headerlink" title="install Gnome"></a>install Gnome</h3><h4 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h4><ul>
<li>ä»¥æ™®é€šç”¨æˆ·ç™»å½•</li>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Mirrors">é€‰æ‹©å’Œé…ç½®é•œåƒ</a> ï¼ˆå®‰è£…archè¿‡ç¨‹ä¸­ç”¨çš„åŸå§‹listï¼ŒæŒºé¡ºç•…çš„ï¼Œä½†åˆ°Gnomeæ—¶å…¨éƒ¨404ï¼‰<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># location: /etc/pacman.d/mirrorlist</span></span><br><span class="line"><span class="comment"># é™„ä¸Šå‡ ä¸ªæºï¼š </span></span><br><span class="line">Server = http://mirrors.aliyun.com/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span>  <span class="comment">#é˜¿é‡Œ</span></span><br><span class="line">Server = http://mirrors.ustc.edu.cn/archlinux/<span class="variable">$repo</span>/os/<span class="variable">$arch</span>  <span class="comment">#ä¸­ç§‘å¤§</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="å‡çº§è½¯ä»¶åŒ…"><a href="#å‡çº§è½¯ä»¶åŒ…" class="headerlink" title="å‡çº§è½¯ä»¶åŒ…"></a>å‡çº§è½¯ä»¶åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸€ä¸ª pacman å‘½ä»¤å°±å¯ä»¥å‡çº§æ•´ä¸ªç³»ç»Ÿã€‚</span></span><br><span class="line">pacman -Syu</span><br></pre></td></tr></table></figure>

<h4 id="å®‰è£…Xorg"><a href="#å®‰è£…Xorg" class="headerlink" title="å®‰è£…Xorg"></a>å®‰è£…Xorg</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S xorg</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ‘˜è‡ª <a target="_blank" rel="noopener" href="http://www.x.org/wiki/">http://www.x.org/wiki/</a>:<br>X.Org é¡¹ç›®æä¾›äº† X çª—å£ç³»ç»Ÿçš„å¼€æºå®ç°ã€‚å¼€å‘å·¥ä½œæ˜¯åœ¨ freedesktop.org ç¤¾åŒºçš„é€šåŠ›åˆä½œä¸‹å®Œæˆã€‚X.Org ç»„ç»‡æ˜¯éç›ˆåˆ©æ•™è‚²æœºæ„ã€‚<br> Xorg åœ¨ Linux ç”¨æˆ·ä¸­éå¸¸æµè¡Œï¼Œå·²ç»æˆä¸ºå›¾å½¢ç”¨æˆ·ç¨‹åºçš„å¿…å¤‡æ¡ä»¶ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†å‘è¡Œç‰ˆéƒ½æä¾›äº†å®ƒã€‚è¯¦æƒ…å‚è§ <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/X.Org_Server">Xorg</a> ç»´åŸºæ–‡ç« æˆ–è®¿é—®<a target="_blank" rel="noopener" href="http://www.x.org/wiki/">Xorg ç½‘ç«™</a> ã€‚ </p>
</blockquote>
<p><del>#### å®‰è£…æ˜¾å¡é©±åŠ¨</del></p>
<p><strong>è™šæ‹Ÿæœºæ²¡å¿…è¦å•Šï¼Œä¼¼ä¹ï¼Ÿï¼</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ˜¾å¡ç±»å‹</span></span><br><span class="line">lspci |grep VGA</span><br><span class="line"><span class="comment"># å®‰è£…å¯¹åº”æ˜¾å¡é©±åŠ¨</span></span><br><span class="line">pacman -S xf86-video-xxxï¼ˆnv,vmware,...ï¼‰</span><br></pre></td></tr></table></figure>

<h4 id="å®‰è£…Gnomeä¸gdm"><a href="#å®‰è£…Gnomeä¸gdm" class="headerlink" title="å®‰è£…Gnomeä¸gdm"></a>å®‰è£…<code>Gnome</code>ä¸<code>gdm</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pacman -S gnome gnome-tweak-tool gdm</span><br><span class="line"><span class="comment"># å¼€æœºå¯åŠ¨GDMæœåŠ¡</span></span><br><span class="line">systemctl <span class="built_in">enable</span> gdm.service</span><br><span class="line">reboot</span><br><span class="line"><span class="comment"># å°±ğŸ†—äº†ã€‚ã€‚</span></span><br></pre></td></tr></table></figure>

<p>Gnomeæˆ‘å±…ç„¶ä¹Ÿæ•´äº†ä¸¤ä¸‰æ¬¡ï¼Œå½“æ—¶è£…å¥½ä¸€ç›´åœ¨â€œé”å±+è§£é”â€ï¼Œç»™æˆ‘éš¾å—çš„ğŸ˜«ï¼›<br>ç„¶åä¸€ä¸å°å¿ƒçœ‹åˆ°äº† <code>å›¾å½¢å†…å­˜ï¼ï¼ï¼</code> ï¼Œæ‰256MB,åŸå› ä¸€å®šåœ¨è¿™äº†ï¼ï¼ï¼ğŸ˜°</p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Arch_is_the_best">Arch is the best!</a></p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/">ArchWiki</a></li>
<li><a target="_blank" rel="noopener" href="https://chaseafterstart.github.io/">chaseafterstart</a></li>
</ul>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>chy</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="http://chymziz.github.io/2020/09/10/Install-arch-Linux-in-VMware/">http://chymziz.github.io/2020/09/10/Install-arch-Linux-in-VMware/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        

        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/ArchLinux/"># ArchLinux</a>
                    
                        <a href="/tags/VMware/"># VMware</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>

        <section class="post-nav">
            <div>
                
                    <a class="prev" rel="prev" href="/2020/09/10/hello-world/">Hello World</a>
                
                
            </div>
        </section>

        
        <section class="post-comments">
            <div>
                
                    <!-- valine, Added on 2020/9/3 -->
<div class="valine_comment"></div>
<!--Leancloud æ“ä½œåº“:-->
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<!--Valine çš„æ ¸å¿ƒä»£ç åº“-->
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '.valine_comment',
        app_id: 'x226vKJ5r3txIO7YW9hAsAUU-MdYXbMMI',
        app_key: 'EyNTMHsVTzdoNb8oo6EfG7cS',
        placeholder: 'Just say something! :)',
        notify: 'false',
        verify: 'false',
        visitor: 'true',
    });
</script>
                
            </div>
        </section>
    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>
            Â© chy ğŸ™‚ | Theme by <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a> Base on <a href="https://hexo.io" target="_blank">Hexo</a><br>
            
                <!-- busuanzi, Added on 2020/9/3 -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


            
        </span>
    </div>
</footer>

    </div>
</body>
</html>
